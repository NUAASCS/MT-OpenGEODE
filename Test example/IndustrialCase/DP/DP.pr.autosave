SYSTEM DP;
    /* CIF TEXT (295, 241), (273, 281) */
    -- Text area for declarations and comments
use dv comment 'dataview-uniq.asn';
signal DPC(DEVICE_PowerOn_Command);
signal DCC; 
signal DSM;
    /* CIF ENDTEXT */
    CHANNEL c
        FROM ENV TO DP WITH DPC;
        FROM DP TO ENV WITH DCC,
DSM;
    ENDCHANNEL;
    BLOCK DP;
        SIGNALROUTE r
            FROM ENV TO DP WITH DPC;
            FROM DP TO ENV WITH DCC,
DSM;
        CONNECT c AND r;
        /* CIF PROCESS (297, 111), (147, 75) */
        PROCESS DP;
            /* CIF TEXT (49, 50), (272, 140) */
            -- Text area for declarations and comments

dcl trigger Trigger;
dcl dpc DEVICE_PowerOn_Command;
            /* CIF ENDTEXT */
            /* CIF PROCEDURE (95, 222), (96, 35) */
            PROCEDURE data_parser;
                /* CIF TEXT (39, 41), (272, 111) */
                -- Text area for declarations and comments

fpar in dpc DEVICE_PowerOn_Command;
returns Trigger;

DCL t Trigger;
                /* CIF ENDTEXT */
                /* CIF START (389, 47), (70, 35) */
                START;
                    /* CIF RETURN (406, 102), (35, 35) */
                    RETURN t;
            ENDPROCEDURE;
            /* CIF PROCEDURE (82, 300), (102, 35) */
            PROCEDURE trigger_start;
                /* CIF TEXT (40, 122), (272, 111) */
                -- Text area for declarations and comments

fpar in trigger Trigger;
returns Trigger;

DCL t Trigger;
                /* CIF ENDTEXT */
                /* CIF START (376, 0), (70, 35) */
                START;
                    /* CIF RETURN (396, 55), (30, 30) */
                    RETURN t;
            ENDPROCEDURE;
            /* CIF START (347, 39), (70, 35) */
            START;
                /* CIF NEXTSTATE (336, 94), (91, 35) */
                NEXTSTATE data_parse;
            /* CIF STATE (336, 94), (91, 35) */
            STATE data_parse;
                /* CIF INPUT (342, 149), (80, 35) */
                INPUT DPC(dpc);
                    /* CIF TASK (292, 204), (180, 35) */
                    TASK trigger:=data_parser(dpc);
                    /* CIF PROCEDURECALL (305, 259), (153, 35) */
                    CALL trigger_start(trigger);
                    /* CIF OUTPUT (347, 314), (70, 35) */
                    OUTPUT DCC;
                    /* CIF OUTPUT (338, 364), (88, 35) */
                    OUTPUT DSM;
            ENDSTATE;
        ENDPROCESS DP;
    ENDBLOCK;
ENDSYSTEM;